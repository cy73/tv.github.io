<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="F:/web/web/static/logo/logo9.png" type="image/x-icon">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge，chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<title>直播电视</title>
<style>
*{
	margin: 0 ;
	border: none;
	padding: 0;
}
body{
	background: url(https://www.dnzhuti.com/uploads/allimg/170504/95-1F504150201.jpg) no-repeat;background-size:cover;background-size: 100% ;background-attachment: fixed;}
}

#cans{
	position: relative;
	margin: 0 auto;
	margin-top: 0vh;
	height:auto;
	width: 100%;
}
#video{
        width: 100%;
        position: fixed;
        top: 0px;
		
        left: 0px;
	height:202px;
	float: left;
	background: black;
	/*position: relative;   去掉这句将会使得video优先级失效*/
	z-index: 1;
}

aside{margin-top: 31vh;
	float: left;
	height: auto;
	width: 100%;
	color: #000;
	color: rgba(0, 0, 0, 0.5);

}
aside header h2{
	color: black;
	margin-bottom: 0px;
	margin-top: 0px;
	text-align: center;
}
aside ul{
	color:  #000;color: rgba(0, 0, 0, 0.5);
	width: 100vw;
	list-style: none;
	text-align: center;
}
aside ul li{
	color:#0B3B17;
	font-size: 22px;
	line-height:40px ;
}

aside ul li:hover{
	
	background-color: ;/*lightgray*/
	color: #FF00BF;/*lightcoral*/
	font-weight: bold;
}

aside #playList-hidden {
	position: absolute;
	bottom: 250px;
	right: 0;
	width:20px ;
	height: 32px;
	background: lightgoldenrodyellow;
	font-size: 16px;
	font-weight: bold;
	border-top-left-radius:10px ;
	border-bottom-left-radius:10px ;
	opacity: 0.5;
	z-index: 10000;
}

#cans #playList-show1{
	margin-top: 230px;
	width:20px ;
	height: 32px;
	background:lightgoldenrodyellow;
	font-size: 16px;
	font-weight: bold;
	border-top-right-radius:10px ;
	border-bottom-right-radius:10px ;
	opacity: 1;
	visibility: hidden;
}

#cans #playList-show1:hover,aside #playList-hidden:hover{
	opacity: 0.7;
}
.select{
	color: red;/*lightcoral*/
}
</style>
</head>
<body>	
	<div id="cans">
		<video controls="controls" id="video"　src="" poster=""  height="auto" width="100%"></video>
		<aside id="playList">
			<header><h2>中央17个频道</h2></header>				
			<ul>
			<li value="http://rbmn-live.akamaized.net/hls/live/590964/BoRB-AT/master_1660.m3u8" title="红牛电视">红牛电视</li>
			<li value="http://[2409:8087:7000:20::11]:80/dbiptv.sn.chinamobile.com/PLTV/88888888/224/3221226231/index.m3u8" title="CCTV-1 综合">CCTV-1 综合</li>
			<li value="http://[2409:8087:7001:20:3::6]:80/dbiptv.sn.chinamobile.com/PLTV/88888888/224/3221226195/index.m3u8" title="CCTV-2 财经">CCTV-2 财经</li>
			<li value="http://[2409:8087:2001:20:2800:0:df6e:eb13]:80/ott.mobaibox.com/PLTV/3/224/3221228228/index.m3u8" title="CCTV-4K 超高清">CCTV-4K 超高清</li>
			<li value="http://[2409:8087:7004:20:1000::22]:6610/yinhe/2/ch00000090990000001309/index.m3u8?virtualDomain=yinhe.live_hls.zte.com" title="CETV-3">CETV-3</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			</ul>			
			<header><h2>中央17个频道</h2></header>
			<ul>				
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			<li value="http://[2409:8087:7001:20:1000::95]:6610/000000001000/6000000002000032052/index.m3u8?channel-id=wasusyt&Contentid=6000000002000032052&livemode=1&stbId=3" title="求索记录">求索记录</li>
			</ul>
			
			
				<!--<button title="展开播放列表" id="playList-show"> > </button>-->
				<button title="收起播放列表" id="playList-hidden"> < </button>
		</aside><button title="展开播放列表" id="playList-show1"> > </button>			
	</div>
<script>
		window.onload = function(){
	
	var video = document.getElementById("video");
	var lis = document.getElementsByTagName("li");
	var vLen = lis.length; // 播放列表的长度
	var url = [];
	var ctrl = document.getElementById("playList-hidden");
	var ctrl_show = document.getElementById('playList-show1');
	var aside = document.getElementById("playList");
	var curr = 1; // 当前播放的视频
	
	for(var i=0;i<lis.length;i++){
		
			url[i] = lis[i].getAttribute("value");
			
	}
	
	//绑定单击事件
	for(var i=0;i<lis.length;i++){
		
			lis[i].onclick = function(){
				for(var j=0;j<lis.length;j++){
					if(lis[j] == this){
						video.setAttribute("src",this.getAttribute("value"));
						video.setAttribute('autoplay','autoplay');
						this.innerHTML = ''+this.innerHTML;//'palying'
						this.className = "select";
						curr = j+1;
					}else{
						lis[j].innerHTML = lis[j].getAttribute("title");
						lis[j].className = "";
					}
				}
				
			
//			console.log(this.getAttribute("value"));  //调试代码
		}
			
	}	
	
	//收起播放列表
	ctrl.onclick = function(){
		
		aside.style.transition = "1s";
		aside.style.transform = "translateX(-10vw)";
		setTimeout(function(){
			aside.style.display = "none";
			ctrl_show.style.visibility= 'visible';
		},"1000");
	
	}
	
	//展开播放列表
	ctrl_show.onclick = function(){
		aside.style.display = "block";
		ctrl_show.style.visibility= 'hidden';
		setTimeout(function(){
			aside.style.transform = "translateX(0vw)";
		},"0");
	
	}

	video.setAttribute('src',url[0]);
	lis[0].innerHTML =' ' +lis[0].innerHTML;//'palying '
	lis[0].className = "select";
	
	
	
	video.addEventListener('ended', play);
	//play();
	function play() {
	   video.src = url[curr];
	   video.load(); // 如果短的话，可以加载完成之后再播放，监听 canplaythrough 事件即可
	   video.play();
	   
	   for(var j=0;j<lis.length;j++){
			if(j == curr){
				video.setAttribute("src",lis[j].getAttribute("value"));
				video.setAttribute('autoplay','autoplay');
				lis[j].innerHTML = 'palying '+lis[j].innerHTML;
				lis[j].className = "select";
			}else{
				lis[j].innerHTML = lis[j].getAttribute("title");
				lis[j].className = "";
			}
		}
	   curr++;
	   if (curr >= vLen) curr = 0; // 播放完了，重新播放
	}
	
}

</script>
</body>
</html>
